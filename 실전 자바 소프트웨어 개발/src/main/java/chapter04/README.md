# Chapter 04.

이번 챕터부터는 문서 관리 시스템을 개발한다.

## Section 03. (문서 관리 시스템 요구사항)

문서 관리 시스템은 기존 환자 정보 파일을 읽어 색인을 추가하고 검색할 수 있는 형태의 정보로 변환해야 한다.

그녀는 다음과 같은 세 가지 형식의 문서를 다룬다.

* 리포트: 환자의 수술과 관련된 상담 내용을 기록한 본문이다.
* 우편물: 특정 주소로 발송되는 텍스트 문서다.
* 이미지: 치아와 잇몸 엑스레이 사진을 저장한다. 용량이 크다.

각각의 문서는 관리 대상 파일의 경로와 어떤 환자의 기록물인지를 나타내는 정보도 포함해야 한다.
아바즈 선생님은 문서를 쉽게 찾을 뿐만 아니라 다양한 종류의 문서에서 특정 정보를 포함하는 문서를 검색해 찾기를 원한다.

예를 들어 본문에 'Joe Bloggs'를 포함하는 우편물 문서를 검색하면 그 결과를 반환해야 한다.

<br>

## Section 04. (설계 작업)

문서 관리 시스템은 필요에 따라 문서를 임포트해 내부 문서 저장소에 추가한다.

두 메서드를 포함하는 Document ManagementSystem 클래스를 만들어 이 요구사항을 구현한다.

* void importFile(String path) : 사용자가 문서 관리 시스템으로 임포트하려는 파일의 경로를 받는다.
* List<Document> contents() : 문서 관리 시스템에 저장된 모든 문서를 반환

공개 api는 문자열을 사용하지만  Importer 인터페이스는 File 객체를 사용해 임포트하는 파일을 가리킨다.

### Document 구현

Document 구현은 HashMap을 상속하는 것보다 HashMap을 인스턴스 변수로 가져 조합하는 방식이 더 좋다. 

> 도메인 클래스를 사용하면 개념에 이름을 붙이고 수행할 수 있는 동작과 값을 제한하므로 발견성을 개선하고 버그 발생 범위를 줄일 수 있다.

> is-a 관계에서는 상속 관계를 선택하는 것이 적절하지만, 다른 경우에는 대부분 조합(인터페이스)가 더 좋다.