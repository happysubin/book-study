
# Chapter 03.

OCP, 인터페이스, 예외 처리, 빌드 도구(메이븐, 그레이들)에 대해 집중하는 챕터.

<br>

### Section 03.

입출금 내역 분석기에 아래와 같은 요구 사항이 추가됨.

1. 특정 입출금 내역을 검색할 수 있는 기능. 예를 들어 주어진 날짜 범위 또는 특정 범주의 입출금 내역 얻기
2. 검색 결과의 요약 통계를 텍스트, HTML 등 다양한 형식으로 만들기

<br>


### Section 04.

동작 파라미터화를 통해 OCP를 지키고 코드의 유연성을 높임.

<br>

### Section 05.

갓 인터페이스를 만드는 일은 피해야한다. 결론은 인터페이스 분리 원칙을 지키는 것이 좋다는 것.

그러나 지나치게 인터페이스가 세밀해도 코드 유지보수에 방해가 된다. 인터페이스가 너무 분산되어도 필요한 기능을 찾기가 어렵다.

<br>

### Section 06.

* 명시적 API: 구현해야할 기능을 매번 메서드로 제공. 특정 상황에 사용할 수 있도록 국한됨. 새로운 메서드를 많이 만들어야 함.
* 암묵적 API: 동작 파라미터화를 적용하는 것과 비슷. 청므 에는 사용이 어렵고, 문서화를 잘해야함. 그러나 필요한 모든 상황을 단순 API로 처리 가능.

현재는 원싯값을 대부분의 메서드 결과로 반환하는데 이는 좋지 않음. 다양한 결과를 반환하지 못해 유연성이 떨어지기 때문이다.

double을 감싸는 새 도메인 클래스 Summary를 만들어 이 문제를 해결하자. 참고로 실무에서 돈 관련은 무조건 BigDecimal을 사용한다.

<br>

### Section 07.

이제 선택된 입출금 목록의 요약 통계를 텍스트, HTML, JSON 등 다양한 형식으로 내보내야 하는 요구사항이 추가 되었다.

<br>

### Section 08.

* 확인된 예외: 회복해야 하는 대상의 예외다. 자바에서는 메서드가 던질 수 있는 확인된 예외 목록을 선언해야 한다. 아니면 해당 예외를 try/catch로 처리해야 한다.
* 미확인 예외: 프로그램을 실행하면서 언제든 발생ㅌ할 수 있는 종류의 예외다. 확인된 예외와 달리 메서드 시그니처에 명시적으로 오류를 선언하지 않으면 호출자도 이를 꼭 처리할 필요가 없다.

> 정말 필요한 상황에서만 확이된 예외를 사용해 불필요한 코드를 줄여야 한다.

객체를 생성하는 곳에 검증 코드를 추가하는 것보다, 전용 Validator 클래스를 만드는 것이 더 좋다.

* 검증 로직을 재사용해 코드를 중복하지 않음.
* 시스템의 다른 부분도 같이 검증 가능
* 로직을 독립적으로 유닛테스트 가능
* 프로그램 유지보수와 이해하기 쉬운 SRP를 따름.

그러나 모든 경우를 계산하므로 생산성이 떨어진다.

과도하게 덤던한건 전부 같은 오류로 메시지만 다르게 처리. 이건 이거대로 구체적인 회복 로직 처리가 어렵다.

#### Notification 패턴

노티피케이션 패턴은 너무 많은 미확인 예외를 사용하는 상황에 적합한 해결책을 제공한다.

이 패턴에서는 도메인 클래스로 오류를 수집한다.

### 예외 사용 가이드 라인

1. 예외를 무시하지 않음
2. 일반적인 예외는 잡지 않음 ()
3. 예외 문서화 (제일 중요하다고 생각)
4. 특정 구현에 종속된 예외를 주의할 것 (ex: SQLException)
5. 예외 vs 제어 흐름 -> 예외로 흐름을 제어하지 않는다.