# chapter 13. 패턴과 행복하게 살아가기 (실전 디자인 패턴)

## 디자인 패턴의 정의

패턴은 특정 컨텍스트 내에서 주어진 문제의 해결책이다.

* 컨텍스트: 패턴이 적용되는 상황을 뜻한다. 반복적으로 일어날 수 있는 상황이어야 한다.
* 문제: 컨텍스트 내에서 이뤄야 하는 목표를 뜻한다. 여기에는 컨텍스트 내의 제약조건도 포함된다.
* 해결책: 우리가 찾아야하는 것이다. 제약조건 속에서 누가 적용해도 목표를 이룰 수 있는 일반적인 디자인을 뜻한다.

__어떤 컨텍스트 내에서 일련의 제약조건에 의해 영향을 받는 문제가 발생했다면, 그 제약조건 내에서 목적 달성을 위한 해결책이 되는 디자인을 적용하면 된다.__

아래는 예시다.

* 문제: 어떻게 회사에 제시간에 도착할 것인가?
* 컨텍스트: 차에 자동차 열쇠를 두고 나왔는데 문이 잠겼다.
* 해결책: 유리를 깬다. 차에 들어간다. 차를 몰고 출근한다.

그러나 위 예시는 패턴이라고는 할 수 없다. 패턴은 반복적으로 등장하는 문제에 적용할 수 있어야 한다.
(차 유리를 반복적으로 깨서 출근하는 일은 해결책이 아니다.)

## 새로운 디자인 패턴 발견하기

* 숙제를 먼저 한다.
* 오랜 시간에 걸쳐서 심사숙고 한다.
* 머릿속에 들어있는 아이디어를 남들도 이해할 수 있도록 종이에 적는다.
* 새로운 패턴을 다름 사람들이 사용하게 해서, 다듬는다.
* 3의 규칙을 잊지 말자. (패턴이 실전 문제 해결에 3번은 사용되어야 패턴 자격을 얻는다.)

## 디자인 패턴 분류하기

패턴을 범주별로 분류하면 다음과 같다.

* 생성 패턴: 싱글턴, 추상 팩토리, 팩토리 메서드, 빌더, 프로토 타입
* 구조 패턴: 데코레이터, 플라이웨이트, 컴포지트, 어댑터, 브리지, 퍼사드, 프록시
* 행동 패턴: 템플릿 메서드, 비지터, 반복자, 중재자, 메멘토, 옵저버, 상태, 전략, 싱글턴, 역할 변경, 인터프리터

범주와는 별개로, 클래스를 다루는 패턴인지, 객체를 다루는 패턴인지에 따라 분류하는 방법도 있다.

* 클래스 패턴: 템플릿 메서드, 팩토리 메서드, 어댑터, 인터프리터
* 객체 패턴: 위의 패턴을 제외한 모든 패턴들.

## 패턴으로 생각하기

* 최대한 단순하게 문제를 해결한다.
* 디자인 패턴은 만병통치약이 아니다.
* 디자인상의 문제에 적합하다는 확신이 든다면 패턴을 도입해야 한다.
* 간단한 해결책으로 문제가 해결되는 데도 시스템의 어떤 부분이 변경될거라고 예측되는 상황에는 디자인 패턴을 적용해야 한다.
* 패턴을 사용하면 구조가 더 ㅅ개선될 수 있을지 검토해 볼 수 있는 좋은 기회다.
* 꼭 필요하지 않은 패턴은 빼 버리자. 패턴보다 간단한 해결책이 더 나을 것 같다 싶을 때는 패턴을 빼 버린다.
* 꼭 필요하지 않은 패턴을 미리 적용할 필요는 없다. 역시 리팩터링을 꾸준히 진행하는 것이 제일 중요한 듯.

## 패턴을 대하는 마음 가짐

* 초보자들은 언제나 패턴을 사용하려 한다.
* 경험이 늘어 중급자 수준에 오르면 어떤 상황에 패턴이 필요하고 필요하지 않은지를 파악할 수 있다.
* 그랜드 마스터의 경지에 오르면 패턴을 자연스럽게 구사 가능하다.