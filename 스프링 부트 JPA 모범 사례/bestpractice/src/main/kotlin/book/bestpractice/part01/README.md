
# 1장 연관관계

## 항목 1. @OneToMany 연관관계를 효과적으로 구성하는 방법

1. 단방향 @OneToMany 사용 X
2. 항상 부모(일) 자식(다) 측으로 전이를 사용(커스케이드)
3. 부모 측에 mappedBy 지정
4. 부모 측에 orphanRemoval 지정
5. 만약 양방향 연관 관계면 연관 관계의 양측을 동기화 상태로 유지(연관관계 편의 메서드)
6. 글로벌 지연로딩 전략 활용
7. equals와 hashCode 오버라이딩
8. @JoinColumn을 사용해 명시적으로 지정

자식 엔티티 삭제처리는 많은 SQL문이 생성될 수 있으므로 주의. 벌크 처리를 하는 것이 가장 좋은 방법.

## 항목 2. 단방향 @OneToMany 연관관계를 피해야 하는 이유

더 많은 쿼리가 발생하므로 비효율적

> 참고 OrderColumn으로 연관관계(List) 정렬 가능

다 관계인 엔티티가 연관관계의 주인이면 안된다.

## 헝목 3. 단방향 @ManyToOne의 효율성