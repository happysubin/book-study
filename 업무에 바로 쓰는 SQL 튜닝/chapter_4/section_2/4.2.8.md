
# 엉뚱한 인덱스를 사용하는 나쁜 SQL 문 

## 튜닝 전

```sql
SELECT 사원번호 FROM 사원
WHERE 입사일자 LIKE '1989%'
  AND 사원번호 > 100000;             
```


```sql
explain SELECT 사원번호 FROM 사원
        WHERE 입사일자 LIKE '1989%'
          AND 사원번호 > 100000;
```


* i_입사일자 인덱스가 걸린 컬럼을 LIKE 조건을 사용해서 인덱스를 사용하려고 한다.
* LIKE는 인덱스를 효율적으로 사용할 수 없게 만드는 방식이다. 이를 수정해야 한다.

## 튜닝 후

```sql
SELECT 사원번호 FROM 사원
WHERE 입사일자 >= '1989-0101' AND 입사일자 < '1990-01-01'
AND 사원번호 > 100000;  
```


```sql
explain SELECT 사원번호 FROM 사원
        WHERE 입사일자 >= '1989-0101' AND 입사일자 < '1990-01-01'
          AND 사원번호 > 100000;
```

* 기존의 LIKE 조건절을 부등호를 사용한 조건절로 변경했다.
* LIKE 조건절보다 부등호 조건절이 우선하여 인덱스를 사용하므로 데이터 접근 범위를 줄일 수 있었다. 