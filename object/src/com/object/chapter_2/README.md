# Chapter 2. 객체지향 프로그래밍

## part 1. 영화 예매 시스템
* 영화와 상영이라는 개념이 존재
* 할인 조건 (순서 조건과 기간 조건이 존재)
* 할인 정책 (금액 할인 정책과 비율 할인 정책이 존재)
* 영화별로는 하나의 할인 정책만 할당.
* 다수의 할인 조건을 함께 지정 가능. 수서 조건과 기간 조건을 섞는 것도 가능.
* 할인 정책과 할인 조건을 지정하지 않는 것도 가능.

## part 2. 객체지향 프로그래밍을 향해
* 클래스가 아닌 객체를 지향하자.
* 클래스의 윤곽을 잡기 위해서는 어떤 객체들이 어떤 상태와 행동을 가지는지를 먼저 결정해야 한다.
* 객체지향적으로 생각하려면 객체를 고립된 존재가 아닌 협력에 참여하는 협력자로 바라봐야 한다.
* 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야를 도메인이라고 함.
* 캡슐화와 접근 제어는 객체를 두 부분으로 나눈다.
  * 하나는 외부에서 접근 가능한 부분으로 이를 퍼블릭 인터페이스라고 함.
  * 다른 하나는 외부에서는 접근 불가능하고 오직 내부에서만 접근 가능한 부분으로 이를 구현이라고 부른다.
* 변경될 가능성이 있는 세부적인 구현 내용은 private 영역 안에 감춤으로써 변경으로 인한 혼란을 최소화한다.
* 객체가 다른 객체와 상호작용할 수 있는 유일한 방법은 메시지를 전송하는 것이다.
* 다른 객채에게 요청이 도착할 때 해당 객체가 메시지를 수신했다고 얘기한다. 메시지를 수신한 객체는 자율적으로 메시지를 처리할 방법을 결정한다.
* 이처럼 수신된 메시지를 처리하기 위한  자신만의 방법을 메서드라고 부른다.
* 메시지와 메서드의 구분에서부터 다형성의 개념이 출발한다.

## part 3. 할인 요금 구하기
* 추상 클래스와 인터페이스를 도입하고 능동적인 객체를 설계.
* 디자인 패턴인 템플릿 메서드 패턴을 적용.

## part 4. 상속과 다형
* 코드의 의존성과 실행 시점의 의존성이 다를 수 있다.
* 확장 가능한 객체지향 설계가 가지는 특징은 코드의 의존성과 실행 시점의 의존성이 다르다는 것이다.
* 설계가 유연해질 수록 코드를 이해하고 디버깅하기는 더 어려워진다.
* 유연성을 억제하면 코드를 이해하고 디버깅하기는 쉬워진다.
* 무조건 유연한 설계도, 무조건 읽기 쉬운 코드도 정답이 아니다. 적당한 트레이드 오프가 필요하다.
* 메시지와 메서드를 실행 시점에 바인딩하는 것을 지연 바인딩, 동적 바인딩이라고 부른다.
* 전통적인 함수의 호출처럼 컴파일 시점에 실행될 함수나 프로시저를 결정하는 것을 초기 바인딩, 정적 바인딩이라고 한다.

## part 5. 추상화와 유연성
* 유연성이 필요한 곳에 추상화를 사용해라.
* 객체지향 공부를 하면서 상속보다는 합성이 좋다는 얘기를 듣는데 명확한 이유는 무엇일까?

### 상속 VS 합성
* 상속은 2가지 단점이 있다.
* 하나는 캡슐화를 위반한다는 점과 설계를 유연하지 못하게 만든다는 것이다.
* 상속을 이용하려면 부모 클래스의 내부 구조를 잘 알고 있어야 한다. -> 부모 클래스의 구현이 자식 클래스에게 노출되므로 캡슐화가 약해진다.
* 상속은 부모 클래스와 자식 클래스 사이의 관계를 컴파일 시점에 결정한다. 따라서 실행 시점에 객체의 종류를 변경하는 것이 불가능하다.
* 인터페이스에 정의된 메시지를 통해서만 코드를 재사용하는 방법을 합성이라고 부른다.
* 합성은 클래스 간의 관계를 런타임 시점에 결정한다.
* 합성을 사용하면 인터페이스에 정의된 메시지를 통해서만 재사용이 가능하기 때문에 구현을 효과적으로 캡슐화할 수 있다.
* 또한 의존하는 인스턴스를 교체하는 것이 비교적 쉽기 때문에 설계를 유연하게 만든다.
* 따라서 코드 재사용을 위해서는 상속보다는 합성을 선호하는 것이 더 좋은 방법이다.

## 정리
* 객체지향에서 가장 중요한 것은 애플리케이션의 기능을 구현하기 위해 협력에 참여하는 객체들 사이의 상호작용이다.
* 객체들은 협력에 참여하기 위해 역할을 붇여받고 역할에 적합한 책임을 수행한다.
* 객체지향 설계의 핵심은 적절한 협력을 선별하고 협력에 필요한 역할을 정의한 후에 역할을 수행할 수 있는 적절한 객체에게 적절한 책임을 할당하는 것이다.

